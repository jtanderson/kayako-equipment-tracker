/*!
 * Collapse plugin for jQuery
 * http://github.com/danielstocks/jQuery-Collapse/
 *
 * @author Daniel Stocks (http://webcloud.se)
 * @version 0.9.1
 * @updated 17-AUG-2010
 * 
 * Copyright 2010, Daniel Stocks
 * Released under the MIT, BSD, and GPL Licenses.
 */
(function(c){var j=0;c.fn.extend({collapse:function(i){var e=c.extend({head:"h3",group:"div, ul",cookieName:"collapse",show:function(){this.show()},hide:function(){this.hide()}},i);return this.each(function(){j++;var g=c(this),k=g.find(e.head).wrapInner('<a href="#"></a>'),i=k.length,l=e.cookieName+"_"+j,m=g.find(e.head).map(function(){var b=c(this);return!b.hasClass("active")?b.next(e.group).hide()[0]:b.next(e.group)[0]});g.bind("show",function(b,d){var a=c(b.target);a.attr("aria-hidden",!1).prev().removeClass("inactive").addClass("active");
d?a.show():e.show.call(a)});g.bind("hide",function(b,d){var a=c(b.target);a.attr("aria-hidden",!0).prev().removeClass("active").addClass("inactive");d?a.hide():e.hide.call(a)});if(h)for(var f=0;f<=i;f++){var n=c.cookie(l+f);n==f+"open"?m.eq(f).trigger("show",[!0]):n==f+"closed"&&m.eq(f).trigger("hide",[!0])}g.bind("click",function(b){var d=c(b.target);if(!d.is(e.head)){if(d.parent().is(e.head))d=d.parent();else return;b.preventDefault()}var a=k.index(d),b=l+a,f=d.next(e.group);d.hasClass("active")?
(f.trigger("hide"),a+="closed"):(f.trigger("show"),a+="open");h&&c.cookie(b,a,{path:"/",expires:10})})})}});var h;a:{try{c.cookie("x","x",{path:"/",expires:10}),c.cookie("x",null)}catch(o){h=!1;break a}h=!0}})(jQuery);