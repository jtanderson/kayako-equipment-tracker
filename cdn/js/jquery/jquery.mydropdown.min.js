/**
 * @author Paul Chan / KF Software House
 * http://www.kfsoft.info
 * Modified by Aleksey Kuznetsov (AK) at 2011/10/14  
 *
 * Version 0.6
 * Copyright (c) 2011 KF Software House
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
(function(a){var c=[],g=[];jQuery.fn.MyDropdown=function(j){c[c.length]=a.extend({},a.fn.MyDropdown.defaults,j);g[c.length]=0;var b=c.length-1,i=c[b];a(this).attr("idx",b);a(this).each(function(){var e=a(this),d=e.find("option"),c,f="";g[b]=d.length;for(var h=0;h!=d.length;h++)c=d[h].value,txt=d[h].text,f+="<LI v="+c+">"+txt;f=0<d.length?"<UL class='advMenuUL advMenuUL"+b+"'>"+f+"</UL>":"";d="<DIV class='genHeader genHeader"+b+"'>SELECT</DIV>";i.bDebug||e.hide();e.after(d+f);a(".advMenuUL"+b).addClass("menuHeader").addClass("menuHeader"+
b);a(".genHeader"+b).click(function(c){c.stopPropagation();var d=a(e).val();a(".advMenuUL li").each(function(){if(a(this).attr("v")==d)this.className="sel"});a(".menuHeader"+b).css("height",g[b]*i.lineHeight);a(".genHeader"+b).width()+32>a(".advMenuUL"+b).width()&&a(".advMenuUL"+b).css("width",a(".genHeader"+b).width()+32);a(".menuHeader"+b).toggle()}).mouseleave(function(){});a(".advMenuUL"+b+" li").mouseover(function(){a(".advMenuUL li").each(function(){this.className=""})});a(".menuHeader"+b).mouseenter(function(){a(this).css("height",
g[b]*i.lineHeight);clearTimeout(0)});a(".menuHeader"+b).mouseleave(function(){});a(".advMenuUL"+b+" LI").click(function(){a(".genHeader"+b).html(a(this).text());var c=a(this).attr("v");a(e).children().each(function(){if(a(this).val()==c)this.selected=!0});a(e).trigger("change");a(".menuHeader"+b).hide()});a(".advMenuUL").hide();a(e).children().each(function(){if(this.selected){var c=a(this).val(),d=a(this).text();a(".advMenuUL LI").each(function(){a(this).attr("v")==c&&a(".genHeader"+b).html(d)})}})})};
jQuery.fn.MyDropdown.defaults={bDebug:!1,lineHeight:26}})(jQuery);